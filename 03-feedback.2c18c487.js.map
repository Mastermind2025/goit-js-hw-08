{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAIA,MAAMC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,SAAUF,SAASC,cAAc,2BACjCE,MAAOH,SAASC,cAAc,yBAI5BG,EAAW,GAEjBN,EAAKC,KAAKM,iBAAiB,UAO3B,SAAsBC,GAClBA,EAAEC,iBAEFC,QAAQC,IAAI,aACZD,QAAQC,IAAIL,GACZE,EAAEI,cAAcC,QAChBC,aAAaC,WAjBG,sB,IAMpBf,EAAKC,KAAKM,iBAAiB,QAASS,EAAAlB,GAAOmB,UAgB3C,SAAqBC,GACjBZ,EAASY,EAAMC,OAAOC,MAAQF,EAAMC,OAAOE,MAC3CP,aAAaQ,QAxBG,sBAwBkBC,KAAKC,UAAUlB,G,GAlBY,MAsBjE,SAAkBE,GACd,MAAMiB,EAAYX,aAAaY,QA7Bf,uBA8BVC,EAAaJ,KAAKK,MAAMH,GAC1BE,IACAjB,QAAQC,IAAI,gBAAiBgB,GACzBA,EAAWtB,QACXL,EAAKK,MAAMgB,MAAQM,EAAWtB,OAG9BsB,EAAWE,UACX7B,EAAKI,SAASiB,MAAQM,EAAWE,S,CA7B7CC","sources":["src/js/03-feedback.js"],"sourcesContent":["import lodash from 'lodash';\nimport '../css/03-feedback.css';\n\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    textarea: document.querySelector('.feedback-form textarea'),\n    email: document.querySelector('.feedback-form input'),\n};\nconst STORAGE_OBJ = 'feedback-form-state';\n\nconst formData = {};\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nrefs.form.addEventListener('input', lodash.throttle(onFormInput, 500));\n\n\nfavorite();\n\nfunction onFormSubmit(e) { \n    e.preventDefault();\n\n    console.log('send form');\n    console.log(formData)\n    e.currentTarget.reset();\n    localStorage.removeItem(STORAGE_OBJ);\n    \n}\n\n//object\nfunction onFormInput(event) {\n    formData[event.target.name] = event.target.value;\n    localStorage.setItem(STORAGE_OBJ, JSON.stringify(formData));\n    \n}\n\nfunction favorite(e) {\n    const savedInfo = localStorage.getItem(STORAGE_OBJ);\n    const parsedInfo = JSON.parse(savedInfo);\n    if (parsedInfo) {\n        console.log('parsedInfo ->', parsedInfo);\n        if (parsedInfo.email) {\n            refs.email.value = parsedInfo.email;\n            \n        }\n        if (parsedInfo.message) {\n            refs.textarea.value = parsedInfo.message;\n        }\n    }\n//    console.log()\n\n\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","textarea","email","$945622fd0f572e60$var$formData","addEventListener","e","preventDefault","console","log","currentTarget","reset","localStorage","removeItem","$parcel$interopDefault","throttle","event","target","name","value","setItem","JSON","stringify","savedInfo","getItem","parsedInfo","parse","message","$945622fd0f572e60$var$favorite"],"version":3,"file":"03-feedback.2c18c487.js.map"}